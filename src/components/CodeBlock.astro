---
interface Props {
  code: string;
  lang?: string;
}

const { code, lang = 'cpp' } = Astro.props;
---

<div class="relative">
  <pre class="!bg-[#1f2937] !rounded-lg !p-4"><code class={`language-${lang}`}>{code}</code></pre>
  <button
    class="absolute top-2 right-2 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded px-2 py-1 text-sm"
    onclick="navigator.clipboard.writeText(this.parentElement.querySelector('code').textContent)"
  >
    Copy
  </button>
</div>

<style>
  pre {
    margin: 0;
  }
</style>